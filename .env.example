# Cursor API Configuration
# Copy this file to .env and fill in your actual values

# Required: Authentication token for Cursor API
# Get this from your Cursor settings or authentication flow
CURSOR_AUTH_TOKEN=

# Optional: Base URL for Cursor API (default: https://api2.cursor.sh)
CURSOR_BASE_URL=https://api2.cursor.sh

# Optional: Log level (debug, info, warning, error)
# Default: info
LOG_LEVEL=info

# ============================================================================
# Performance Tuning (Optional)
# ============================================================================

# Initial upload batch size (default: 10)
# Number of files to upload in each batch during initial sync
INITIAL_UPLOAD_MAX_FILES=12

# Concurrent upload operations (default: 4)
# Number of parallel upload operations
SYNC_CONCURRENCY=4

# Request timeout in milliseconds (default: 30000)
# Increase for large files or slow connections
PROTO_TIMEOUT_MS=60000

# For large codebases (>3000 files) or if experiencing 504 timeouts:
# Use these conservative settings to reduce server load

# Recommended for large projects (e.g., Unreal Engine projects)
# INITIAL_UPLOAD_MAX_FILES=3    # Batch size: 3 files per batch
# SYNC_CONCURRENCY=2            # Concurrent uploads: 2
# PROTO_TIMEOUT_MS=60000        # Request timeout: 60s

# Extreme conservative (if above still fails)
# INITIAL_UPLOAD_MAX_FILES=1    # Batch size: 1 file per batch
# SYNC_CONCURRENCY=1            # Concurrent uploads: 1 (serial)
# PROTO_TIMEOUT_MS=60000        # Request timeout: 60s

# ============================================================================
# Advanced Configuration (Optional)
# ============================================================================

# Sync behavior
# SYNC_MAX_NODES=2000           # Max nodes for incremental sync
# SYNC_MAX_ITERATIONS=10000     # Max iterations for incremental sync
SYNC_LIST_LIMIT=5000            # File list limit (default: 1000, increase for large codebases)

# File filtering
# FILE_SIZE_LIMIT_BYTES=2097152 # Max file size: 2MB (files larger than this are skipped)

# Supported text file extensions
# Comma-separated list of file extensions to include in indexing
# Default: .txt,.md,.markdown,.js,.jsx,.ts,.tsx,.py,.java,.c,.cpp,.h,.hpp,.cs,.php,.rb,.go,.rs,.swift,.kt,.scala,.clj,.hs,.ml,.m,.r,.pl,.pm,.sh,.bash,.ps1,.lua,.dart,.nim,.zig,.v,.ex,.exs,.html,.htm,.css,.scss,.sass,.less,.vue,.svelte,.astro,.json,.yaml,.yml,.toml,.ini,.cfg,.conf,.xml,.csv,.tsv,.env,.sql,.graphql,.gql,.proto,.dockerfile,.makefile,.tex,.latex,.bib,.rtf,.org,.wiki,.mediawiki,.rst,.rest,.adoc,.asciidoc
# You can customize this list to add or remove extensions:
# TEXT_EXTENSIONS=.txt,.md,.js,.ts,.py,.java,.c,.cpp,.go,.rs,.json,.yaml,.yml,.xml,.sql,.mycustom

# Timeouts
# PROTO_SEARCH_TIMEOUT_MS=60000 # Search request timeout: 60s

# Auto-sync
# AUTO_SYNC_INTERVAL_MS=300000  # Auto-sync interval: 5 minutes

# ============================================================================
# Retry Configuration (Optional)
# ============================================================================

# Semaphore retry configuration for file uploads and other operations
# Number of retry attempts for semaphore operations (default: 3)
SEMAPHORE_RETRY_COUNT=3

# Base delay in milliseconds between retries (default: 200)
# Actual delay is multiplied by attempt number: 200ms, 400ms, 600ms, etc.
SEMAPHORE_RETRY_DELAY_MS=2000
